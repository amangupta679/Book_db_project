USE PR1;


-- Insert a user using the INSERT_USER stored procedure

DECLARE
    @USER_PASSWORD VARCHAR(255) = 'password123',
    @USER_FULLNAME VARCHAR(255) = 'John Doe',
    @USER_EMAIL VARCHAR(255) = 'john@example.com',
    @USER_PHONE BIGINT = 1234567890,
    @USER_ADDRESS VARCHAR(255) = '123 Main St',
    @USER_CITY VARCHAR(255) = 'Cityville',
    @USER_STATE VARCHAR(255) = 'State',
    @USER_POSTAL_CODE BIGINT = 12345,
    @USER_REGISTRATION_DATE DATE = '2023-08-31';

EXEC INSERT_USER
    @USER_PASSWORD,
    @USER_FULLNAME,
    @USER_EMAIL,
    @USER_PHONE,
    @USER_ADDRESS,
    @USER_CITY,
    @USER_STATE,
    @USER_POSTAL_CODE,
    @USER_REGISTRATION_DATE;

	SELECT * FROM USER_TABLE;


-- TO PLACE ORDER
EXEC PLACE_ORDER 1;


-- VIEW_ORDER_OF_A_USER PROCEDURE
EXEC VIEW_ORDER_OF_A_USER 5556


-- Create the MAKE_PAYMENT procedure
EXEC MAKE_PAYMENT 5557, 19.99, '12345@UPI';


-- CREATE PROCEDURE FOR SEARCH BY TITLE
EXEC search_books F;


-- Insert inventory using the INSERT_INVENTORY stored procedure

DECLARE
    @BOOK_ID INT = 1111,
    @QUANTITY_AVAILABLE INT = 50,
    @MINIMUM_STOCK_LEVEL INT = 10,
    @MAXIMUM_STOCK_LEVEL INT = 100;
EXEC INSERT_INVENTORY
    @BOOK_ID,
    @QUANTITY_AVAILABLE,
    @MINIMUM_STOCK_LEVEL,
    @MAXIMUM_STOCK_LEVEL;
